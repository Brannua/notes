<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // 闭包的作用

        // 1.实现公有变量，例如函数累加器
        // function add() {
        //     var count = 0;
        //     function demo() {
        //         count ++;
        //         console.log(count);
        //     }
        //     return demo;
        // }
        // var counter = add();
        // counter();
        // counter();
        // counter();
        // counter();
        // counter();

        // function test() {
        //     var num = 100;
        //     function a() {
        //         num ++;
        //         console.log(num);
        //     }
        //     function b () {
        //         num --;
        //         console.log(num);
        //     }
        //     return [a, b];
        // }
        // var myArr = test();
        // myArr[0]();
        // myArr[1]();

        // 2.可以做缓存(存储结构)eg.eater
        // function eater() {
        //     var food = "";
        //     var obj = {
        //         eat : function (){
        //             console.log("i am eating " + food);
        //             food = "";
        //         },
        //         push : function (myFood) {
        //             food = myFood;
        //         }
        //     }
        //     return obj;
        // }
        // var eater1 = eater();
        // eater1.push("banana");
        // eater1.eat();

        // 3. 可以实现封装，属性私有化
        // function Liu(name, wife) {

        //     var prepareWife = 'xiaozhang';

        //     this.name = name;
        //     this.wife = wife;
        //     this.divorce = function() {
        //         this.wife = prepareWife;
        //     }            
        //     this.changePrepareWife = function (target) {
        //         prepareWife = target;
        //     }
        //     this.sayPrepareWife = function () {
        //         console.log(prepareWife);
        //     }
        // }

        // var liu = new Liu('liu', 'xiaoliu');


        // 4. 闭包适用于模块化开发，防止污染全局变量
        // 可以将自己的特定功能写到如下的一个闭包中，留出一个函数作为接口，方便去启动它
        var name = 'abc';
        var init = (function () {
            var name = 'asd';

            function callName() {
                console.log(name);
            }
            return function () {
                callName();
            }
        }());

        init();























































































    </script>
</body>

</html>